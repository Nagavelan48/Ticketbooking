<html>

<head>
    <style>
        html {
            overflow: hidden;
        }

        body {
            background: #ffd89b;
            background: -webkit-linear-gradient(to right, #19547b, #ffd89b);
            background: linear-gradient(to right, #19547b, #ffd89b);

        }

        .nav {
            display: flex;
            flex-wrap: wrap;
            height: 105px;
            justify-content: space-between;
            align-items: center;
            background: rgb(2, 0, 36);
            background: linear-gradient(90deg, rgba(2, 0, 36, 1) 0%, rgba(9, 9, 121, 1) 35%, rgba(0, 212, 255, 1) 100%);
        }

        section {
            width: 1335px;
            height: 400px;

        }

        .article1 {
            width: 668px;
            height: auto;
            display: inline-block;
            position: absolute;
            border-radius: 5px;
        }

        .article2 {
            width: 665px;
            height: 400px;
            margin-right: 2px;
            float: right;

        }

        img {
            border-radius: 15px 0px 0px 15px;
            margin-bottom: 510px;
        }

        td {
            font-size: 20px;
        }

        .image-slideshow {
            position: relative;
            margin: auto;
            overflow: hidden;
            width: 100%;
        }

        .image-wrapper {
            display: flex;
            animation: slide 50s infinite;
            width: 100%;
        }

        .image {
            flex-shrink: 0;
            transition: transform 1s;
            width: 100%;
            margin-top: 10%;
        }

        input {
            border-radius: 5px;
        }

        button {
            background-color: blue;
            color: white;
            margin-left: 600px;
            width: 150px;
            height: 40px;
        }

        #value {
            font-weight: 800;
            font-size: xx-large;

        }

        ul {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            gap: 35px;
            font-weight: 700;

        }

        li {
            display: inline-block;
            color: black;
        }

        .navbar {
            display: flex;
        }

        .gradient-icon {
            color: #F9CE34;
            background: -webkit-linear-gradient(#F9CE34, #EE2A7B, #6228D7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <div class="nav">

        <div>

        </div>
        <div>
            <h1 style=" font-size: 50px;  color:white;  margin-left: 175px;">Travels </h1>
        </div>
        <div>
            <nav class="navbar">
                <ul>
                    <a href="# " style="color:white;text-decoration:none;" onclick="cancel()">Booking History</a>
                    <a href="#" style="color:white;text-decoration:none;" data-toggle="modal"
                        data-target="#exampleModalLong">
                        About Us
                    </a>
                    <a href="#" style="color:white;text-decoration:none;" data-toggle="modal"
                        data-target="#Contactus">Contact us</a>

                </ul>
            </nav>
        </div>

    </div>
    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Terms and Conditions for Bus Booking System</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>
                        By utilizing our bus booking system, you implicitly consent to the following terms and
                        conditions. Payment for tickets is required in full at the time of booking, with tickets being
                        valid solely for the designated date, time, and route specified. Cancellation requests must
                        align with the policy of the respective bus operator, and refunds, if applicable, will adhere to
                        their guidelines. It is your responsibility to possess valid identification and necessary travel
                        documents, arriving punctually at the boarding point. Additionally, adherence to designated
                        baggage limits is mandatory. We disclaim liability for losses, damages, injuries, or delays
                        beyond our control, with travelers agreeing to indemnify us against any resulting claims. These
                        terms and conditions are subject to potential amendments, and are governed by the laws of [Your
                        Jurisdiction].
                    </p>
                </div>
                <div class="modal-footer">
                </div>

                <center><button type="button" class="btn btn-secondary" data-dismiss="modal"
                        style="background-color: red;">Close</button></center>

            </div>
        </div>
    </div>
    </div>

    <div class="modal fade" id="Contactus" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="height:450px">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Contact info</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div style="display: inline-block;">
                        <img src="velan.jpeg" style="width:200px; height:300px;">
                    </div>
                    <div style="display: inline-block; vertical-align: top; margin-left: 20px;">
                        <h2>Nagavelan C</h2><br>
                        <i class="fa fa-whatsapp" style="font-size:28px; color:green"></i> 9361903309<br><br>
                        <i class="fa fa-instagram gradient-icon" style="font-size:28px;"></i> velan_4_01<br><br>
                        <i class="fa fa-envelope" style="font-size:28px; color: 
                LINEAR-GRADIENT(-120DEG,
                #4285F4 #34A853, #FBBC05 #EA4335);"></i> nagavelan48@gmail.com<br>

                    </div>
                </div>
                <div class="modal-footer"> </div>

                <center><button type="button" class="btn btn-secondary" data-dismiss="modal"
                        style="background-color: red;">Close</button></center>

            </div>
        </div>
    </div>
    </div>
    <section>
        <article class="article1">
            <table cellpadding="10">
                <tr>
                <tr>
                    <td>
                        <p style="    width: max-content;" id="value"></p>
                    </td>
                </tr>
                <tr>
                    <td style="color:white;">From</td>
                    <td>
                        <select name="from" id="from" style="padding:5px;border-radius:5px; font-size:15px;width:300px;"
                            onchange="updateToOptions()" required>
                            <option hidden disabled selected>Choose start location</option>
                            <option value="Chennai">Chennai</option>
                            <option value="Coimbatore">Coimbatore</option>
                            <option value="Rajapalayam">Rajapalayam</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td style="color:white;">To</td>
                    <td>
                        <select name="to" id="to" style="padding:3px;border-radius:5px; font-size:15px;width:300px;"
                            required>
                            <option hidden disabled selected>Choose end location</option>
                            <option value="Chennai">Chennai</option>
                            <option value="Coimbatore">Coimbatore</option>
                            <option value="Rajapalayam">Rajapalayam</option>
                        </select>
                    </td>
                </tr>

                </tr>
                <tr>

                    <td style="color:white;">Onward Journey Date:</td>
                    <td><select id="ondate" style="padding:3px;  font-size:15px;width:300px;" required
                            oninput="check()">

                            <option hidden disabled selected>Choose Date</option>
                        </select>

                    </td>

                </tr>
                <tr>
                    <td style="color:white;">Confirm Date:</td>
                    <td><select id="condate" style="padding:3px; font-size:15px;width:300px;" required>
                        <option hidden disabled selected>Confirm Date</option></select>
                        
                    </td>
                </tr>
                <tr>
                    <td style="color:white;">Adult</td>
                    <td>
                        <table>
                            <tr>
                                <td><input type="text" id="adult" style="width:80px;" required>
                                    <input type="text" id="count" hidden>
                                </td>

                        </table>
                    </td>
                    </td>
                </tr>
                <tr>
                    <td style="color:white;">Child</td>
                    <td><input type="text" id="child" style="width:80px;" required>
                        <input type="text" id="username" hidden>

                    </td>



                    </td>
                </tr>

            </table>
            <input type="text" id="email" hidden>
            <center><button class="button" id="save" onclick="user()">submitted </button></center>
            <div id="result" style="text-align: center;">
            </div>

        </article>
        <article class="article2">
            <div class="image-slideshow">
                <div class="image-wrapper">
                    <div class="image">
                        <img src="bus4.png" width="100%">
                    </div>
                    <div class="image">
                        <img src="bus5.png" width="100%">
                    </div>
                    <div class="image">
                        <img src="bus6.png" width="100%">
                    </div> `
                    <div class="image">
                        <img src="bus7.png" width="100%">
                    </div>
                    <div class="image">
                        <img src="bus4.png" width="100%">
                    </div>
                </div>
            </div>
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script src="script.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>
            <script type="text/javascript" charset="utf8"
                src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
            <script>
                function getParameterByName(name, url) {
                    if (!url) url = window.location.href;
                    name = name.replace(/[\[\]]/g, "\\$&");
                    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                        results = regex.exec(url);
                    if (!results) return null;
                    if (!results[2]) return '';
                    return decodeURIComponent(results[2].replace(/\+/g, " "));
                }


                const queryParams = new URLSearchParams(window.location.search);
                const hiddenValue = queryParams.get('hidden');
                console.log("url hidden below")
                console.log(hiddenValue);
                let value = document.getElementById('value')
                value.innerHTML = 'Welcome ' + hiddenValue + '!';
                value.style.color = 'white';

                const sum1 = getParameterByName('email');
                document.getElementById('email').value = sum1;

                function cancel() {
                    let countvalue = document.getElementById("email").value;

                    console.log(countvalue);
                    var destinationURL = "CancelTicket.html?email=" + countvalue;
                    window.location.href = destinationURL;
                }
                window.onload = function () {

                    const params = new URLSearchParams(window.location.search);
                    const name = params.get('name');


                    if (name) {

                        alert('Hello, ' + name);
                    }
                }


                document.getElementById('username').value = hiddenValue;


                const imageWrapper = document.querySelector('.image-wrapper');
                const images = document.querySelectorAll('.image');
                let translateXValue = 0;
                let currentImage = 0;
                let imageWidth = images[0].offsetWidth;
                setInterval(() => {
                    currentImage++;
                    translateXValue -= imageWidth;
                    imageWrapper.style.transition = 'transform 1s ease-in-out';
                    imageWrapper.style.transform = `translateX(${translateXValue}px)`;
                    if (currentImage >= images.length - 1) {
                        setTimeout(() => {
                            translateXValue = 0;
                            imageWrapper.style.transition = 'none';
                            imageWrapper.style.transform = `translateX(${translateXValue}px)`;
                            currentImage = 0;
                        }, 2000);
                    }
                }, 4000);

                const onwardDateInput = document.getElementById("ondate");
                const confirmDateInput = document.getElementById("condate");


                function checkDateMatch() {
                    if (confirmDateInput.value !== onwardDateInput.value) {
                        alert('Date Mismatch');
                        confirmDateInput.value = '';
                    }
                }


                confirmDateInput.addEventListener("input", checkDateMatch);

                function checkDropPoint() {
                    const pickuppoint = document.getElementById("from").value;
                    const droppoint = document.getElementById("to").value;

                    if (pickuppoint == droppoint) {
                        alert('Please choose a different drop point.');
                        document.getElementById('to').value = '';
                    }
                }

                document.getElementById("to").addEventListener("change", checkDropPoint);

                const adultInput = document.getElementById('adult');
                const childInput = document.getElementById('child');
                const countInput = document.getElementById('count');


                function updateAddField() {

                    const adultValue = parseInt(adultInput.value) || 0;
                    const childValue = parseInt(childInput.value) || 0;


                    const sum = adultValue + childValue;
                    if (sum > 7) {

                        alert("Sorry, you can only book up to 7 books. Please make a new try.");

                        adultInput.value = '';
                        childInput.value = '';
                        countInput.value = '';
                    } else {

                        countInput.value = sum.toString();
                    }
                }


                adultInput.addEventListener('input', updateAddField);
                childInput.addEventListener('input', updateAddField);



                function updateToOptions() {
                    var fromSelect = document.getElementById("from");
                    var toSelect = document.getElementById("to");


                    var options = toSelect.options;
                    for (var i = 0; i < options.length; i++) {
                        options[i].disabled = false;
                    }


                    var selectedOption = fromSelect.value;
                    for (var i = 0; i < options.length; i++) {
                        if (options[i].value === selectedOption) {
                            options[i].disabled = true;
                            break;
                        }
                    }
                }
                function getFormattedDate(date) {
                    let day = String(date.getDate()).padStart(2, '0');
                    let month = String(date.getMonth() + 1).padStart(2, '0'); // Months are zero-based
                    let year = date.getFullYear();
                    return `${year}-${month}-${day}`;
                }

                // Get today's date
                let currentDate = new Date();

                // Reference to the select elements
                const dateSelect = document.getElementById('ondate');
                const dateSelect2 = document.getElementById('condate');

                // Loop to generate six dates starting from today
                for (let i = 0; i < 6; i++) {
                    // Create new option elements
                    const option1 = document.createElement('option');
                    const option2 = document.createElement('option');
                    // Get the formatted date
                    const dateStr = getFormattedDate(currentDate);
                    // Set the option values and texts
                    option1.value = dateStr;
                    option1.textContent = dateStr;
                    option2.value = dateStr;
                    option2.textContent = dateStr;
                    // Append the options to the select elements
                    dateSelect.appendChild(option1);
                    dateSelect2.appendChild(option2);
                    // Increment the date by one day
                    currentDate.setDate(currentDate.getDate() + 1);
                }

            </script>

        </article>
    </section>

</body>

</html>